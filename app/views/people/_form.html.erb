<%= form_for @person, html: { id: 'form' } do |f| %>
  <%= f.hidden_field :public_id %>
  <%= f.hidden_field :lat %>
  <%= f.hidden_field :lng %>

  <section id="person-information" class="form-section">
    <h3 class="form-title">Person information</h3>

    <%# Identity %>
    <div class="row">
      <div class="col-xs-12 col-md-3">
        <div class="custom-input-group">
          <i class="fa fa-user"></i>

          <div>
            <%= f.label :first_name, class: 'form-control-label' %>
            <a class="btn-popover" tabindex="0" data-toggle="popover" data-container="body" title="Texte d'aide" data-trigger="focus" data-html="true" data-content="A block of help text that breaks onto a new <strong>line</strong> and may extend beyond one <strong>line</strong>.
            A second <strong>line</strong> of help text that breaks onto a new <strong>line</strong> and may extend beyond one <strong>line</strong>.">
              <i class="fa fa-info"></i>
            </a>

            <%= f.text_field :first_name, class: 'form-control', placeholder: 'Alexandre, Thierry, ...', required: true,
                'v-model': 'person.firstName', 'v-on:keyup': 'update' %>
          </div>
        </div>

        <small class="text-muted text-help">{{ error.updateContent }}</small>
      </div>

      <div class="col-xs-12 col-md-3">
        <div class="custom-input-group">
          <i class="fa fa-user"></i>

          <div>
            <%= f.label :last_name, class: 'form-control-label' %>
            <%= f.text_field :last_name, class: 'form-control', placeholder: 'Dupont, Lambert, ...', required: true,
                'v-model': 'person.lastName', 'v-on:keyup': 'update' %>
          </div>
        </div>

        <small class="text-muted text-help">{{ error.updateContent }}</small>
      </div>

      <div class="col-xs-12 col-md-4">
        <div class="custom-btn-group">
          <div>
            <%= f.label :gender, class: 'form-control-label' %>
            <div class="btn-group" data-toggle="buttons">
              <%= f.collection_radio_buttons :gender, Person.genders.keys, :to_s, :to_s do |b| %>
                <%= bootstrap_collection_radio_buttons(f.object.gender, b) %>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12 col-md-3">
        <div class="custom-input-group">
          <i class="fa fa-calendar"></i>

          <div>
            <%= f.label :birth_date, class: 'form-control-label' %>
            <%= f.text_field :birth_date, class: 'form-control', placeholder: '13/09/1956, 20/11/1981',
                'v-model': 'person.birthDate', 'v-on:keyup': 'update' %>
          </div>

          <small class="text-muted text-help">{{ error.updateContent }}</small>
        </div>
      </div>

      <div class="col-xs-12 col-md-3">
        <div class="custom-input-group">
          <i class="fa fa-phone"></i>

          <div>
            <%= f.label :phone, class: 'form-control-label' %>
            <%= f.text_field :phone, class: 'form-control', placeholder: 'Phone', required: true,
                'v-model': 'person.phone', 'v-on:keyup': 'update' %>
          </div>

          <small class="text-muted text-help">{{ error.updateContent }}</small>
        </div>
      </div>

      <div class="col-xs-12 col-md-3">
        <div class="custom-input-group">
          <i class="fa fa-at"></i>

          <div>
            <%= f.label :email, class: 'form-control-label' %>
            <%= f.email_field :email, class: 'form-control', placeholder: 'Email', pattern: '^.+@.+$',
                'v-model': 'person.email', 'v-on:keyup': 'update' %>
          </div>

          <small class="text-muted text-help">{{ error.updateContent }}</small>
        </div>
      </div>
    </div>

    <%# Address %>
    <div class="row">
      <div class="col-xs-12 col-md-3">
        <div class="custom-input-group">
          <i class="fa fa-home"></i>

          <div>
            <%= f.label :postal_code, class: 'form-control-label' %>
            <%= f.text_field :postal_code, class: 'form-control', placeholder: '06000, 67200, ...', required: true,
                'v-model': 'person.postalCode', 'v-on:keyup': 'update' %>
          </div>
        </div>

        <small class="text-muted text-help">{{ error.updateContent }}</small>
      </div>

      <div class="col-xs-12 col-md-3">
        <div class="custom-input-group">
          <i class="fa fa-home"></i>

          <div>
            <%= f.label :city, class: 'form-control-label' %>
            <%= f.text_field :city, class: 'form-control', placeholder: 'Nice, Paris, ...', required: true,
                'v-model': 'person.city', 'v-on:keyup': 'update' %>
          </div>
        </div>

        <small class="text-muted text-help">{{ error.updateContent }}</small>
      </div>

      <div class="col-xs-12 col-md-4">
        <div class="custom-input-group" v-show="person.city" transition="empty-field">
          <i class="fa fa-home"></i>

          <div>
            <%= f.label :thoroughfare, class: 'form-control-label' %>
            <%= f.text_field :thoroughfare, class: 'form-control', placeholder: 'Dupont, Lambert, ...', required: true,
                'v-model': 'person.thoroughfare', 'v-on:keyup': 'update' %>
          </div>
        </div>

        <small class="text-muted text-help">{{ error.updateContent }}</small>

        <div class="form-group row" v-else>
          <div class="col-xs-9 col-xs-offset-3 text-center">
            <small class="text-muted">Rue non visible si ville non remplie</small>
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-md-2">
        <%= button_tag type: 'button', class: 'btn btn-primary' do %>
        <i class="fa fa-map-marker"></i> GÃ©olocaliser
      <% end %>
      </div>
    </div>
  </section>

  <div class="form-group row">
    <div class="col-xs-12">
      <%= button_tag type: 'submit', class: 'btn btn-success pull-right' do %>
        <i class="fa fa-check"></i> Valider
      <% end %>
    </div>
  </div>
<% end %>
